/* ✅ .product-image 를 갤러리 컨테이너로 사용 */
.product-image {
    width: 100%;
    max-width: 520px;
    background: var(--surface);
    overflow: hidden; /* 테두리 안으로 내용 고정 */
    box-sizing: border-box;
}

/* 메인 영역: 고정 높이 360px */
.product-image .gallery-main {
    position: relative;
    width: 100%;
    height: 500px;
    background: #f7f7f7;
    cursor: pointer;
}

.product-image .gallery-main > img {
    width: 100%;
    border-radius: 12px;
    height: 100%;
    object-fit: cover;
    display: block;
}

/* 썸네일 영역: 컨테이너 안에 들어오도록 패딩 */
.product-image .gallery-thumbs {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
    gap: 8px;
    padding: 8px 0;          /* ← 컨테이너 안쪽 여백 */
    background: var(--surface);
}

.product-image .gallery-thumbs button {
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 0;
    overflow: hidden;
    background: transparent;
    cursor: pointer;
    transition: transform 80ms ease, border-color 0.12s ease, box-shadow 0.12s ease;
}

.product-image .gallery-thumbs button:hover {
    transform: translateY(-1px);
    border-color: #ddd6fe;
}

.product-image .gallery-thumbs button[aria-pressed="true"] {
    border: 2px solid #222;
    box-shadow: 0 0 0 2px rgba(34, 34, 34, 0.15);
}

.product-image .gallery-thumbs img {
    width: 100%;
    height: var(--thumb-size);
    object-fit: cover;
    display: block;
}

/* 반응형 썸네일 크기 */
@media (min-width: 768px) {
    .product-image .gallery-thumbs { --thumb-size: 80px; }
}
@media (min-width: 1024px) {
    .product-image .gallery-thumbs { --thumb-size: 96px; }
}

/* (선택) 레거시: 여전히 <img class="product-image"> 쓰는 화면 호환 */
img.product-image {
    width: 100%;
    height: 360px;
    object-fit: cover;
    max-width: 520px;
    border-radius: 12px;
    display: block;
}



/* 라이트박스 */
.lightbox-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    cursor: zoom-out;
}

.lightbox-image {
    max-width: 95vw;
    max-height: 95vh;
    width: auto;
    height: auto;
    object-fit: contain;
    box-shadow: 0 20px 60px rgba(0,0,0,0.35);
    border-radius: 12px;
    background: #000;
}

/* ─────────────────────────────────────────
   썸네일: 선택(활성) 상태 하이라이트 (밝은 보라빛)
   ───────────────────────────────────────── */
.product-image .gallery-thumbs {
    /* 기본 썸네일 높이 기본값 */
    --thumb-size: 72px;
}

/* 선택된 썸네일: aria-pressed="true" 또는 .selected 클래스 둘 다 대응 */
.product-image .gallery-thumbs button[aria-pressed="true"],
.product-image .gallery-thumbs .thumb-btn.selected {
    border: 2px solid var(--primary, #8b5cf6);
    box-shadow:
        0 0 0 2px rgba(139, 92, 246, 0.15),
        0 6px 16px rgba(139, 92, 246, 0.18);
    background: var(--accent-soft, #f5f3ff); /* 은은한 보라 배경 */
    transform: translateY(-1px);
}

/* 키보드 포커스도 보라색 링으로 */
.product-image .gallery-thumbs button:focus-visible {
    outline: none;
    border-color: var(--ring, #c4b5fd);
    box-shadow:
        0 0 0 3px rgba(196, 181, 253, 0.45),
        0 4px 12px rgba(139, 92, 246, 0.15);
}
